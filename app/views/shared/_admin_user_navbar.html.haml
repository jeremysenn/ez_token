-# %nav.navbar.navbar-expand-lg.fixed-top.navbar-light.bg-light
%nav.navbar.navbar-expand-lg.navbar-light.bg-light
  %a.navbar-brand{:href => root_path} 
    = image_tag(image_path("tranact_logo_50.png"))
  %button.navbar-toggler{"aria-controls" => "navbarSupportedContent", "aria-expanded" => "false", "aria-label" => "Toggle navigation", "data-target" => "#navbarSupportedContent", "data-toggle" => "collapse", :type => "button"}
    %span.navbar-toggler-icon
  #navbarSupportedContent.collapse.navbar-collapse
    %ul.navbar-nav.mr-auto
      %li.nav-item.bordered
        .text-center
          %a.nav-link{:href => root_path, :class => (current_page? root_path) ? "text-light-blue" : ""}
            %i.fa.fa-dashboard.fa-lg
            %br
            Home
      -#
        %li.nav-item.bordered
          .text-center
            %a.nav-link{:href => events_path, :class => (params[:controller] == 'events') ?  "text-light-blue" : ""}
              %i.fa.fa-calendar.fa-lg
              %br
              Events
      %li.nav-item.bordered.dropdown
        %a.nav-link{ "data-toggle" => "dropdown", :href => "#", :class => (params[:controller] == 'events') ?  "text-light-blue" : ""}
          .text-center
            %i.fa.fa-calendar.fa-lg
            %br
            Events
        .dropdown-menu{"aria-labelledby" => "navbarDropdown"}
          %a.dropdown-item{:href => events_path, :class => (params[:controller] == 'events' and params[:action] == 'index') ?  "active" : ""} All
          %a.dropdown-item{:href => new_event_path, :class => (params[:controller] == 'events' and params[:action] == 'new') ?  "active" : ""} New
      -#
        %li.nav-item.bordered
          .text-center
            %a.nav-link{:href => customers_path, :class => (params[:controller] == 'customers') ?  "text-light-blue" : ""}
              %i.fa.fa-male.fa-lg
              %br
              Accounts
      %li.nav-item.bordered.dropdown
        %a.nav-link{ "data-toggle" => "dropdown", :href => "#", :class => (params[:controller] == 'customers') ?  "text-light-blue" : ""}
          .text-center
            %i.fa.fa-male.fa-lg
            %br
            Accounts
        .dropdown-menu{"aria-labelledby" => "navbarDropdown"}
          %a.dropdown-item{:href => customers_path, :class => (params[:controller] == 'customers' and params[:action] == 'index') ?  "active" : ""} All
          %a.dropdown-item{:href => new_customer_path, :class => (params[:controller] == 'customers' and params[:action] == 'new') ?  "active" : ""} New
      -#
        %li.nav-item.bordered
          .text-center
            %a.nav-link{:href => accounts_path, :class => (params[:controller] == 'accounts') ?  "text-light-blue" : ""}
              %i.fa.fa-google-wallet.fa-lg
              %br
              Wallets
      %li.nav-item.bordered.dropdown
        %a.nav-link{ "data-toggle" => "dropdown", :href => "#", :class => (params[:controller] == 'accounts' or params[:controller] == 'account_types') ?  "text-light-blue" : ""}
          .text-center
            %i.fa.fa-google-wallet.fa-lg
            %br
            Wallets
        .dropdown-menu{"aria-labelledby" => "navbarDropdown"}
          %a.dropdown-item{:href => accounts_path, :class => (params[:controller] == 'accounts' and params[:action] == 'index') ?  "active" : ""} All
          .dropdown-divider
          %a.dropdown-item{:href => account_types_path, :class => (params[:controller] == 'account_types' and params[:action] == 'index') ?  "active" : ""} Types
          %a.dropdown-item{:href => new_account_type_path, :class => (params[:controller] == 'account_types' and params[:action] == 'new') ?  "active" : ""} New Type

      -#
        %li.nav-item.bordered
          .text-center
            %a.nav-link{:href => payment_batches_path, :class => (params[:controller] == 'payment_batches') ?  "text-light-blue" : ""}
              %i.fa.fa-dollar.fa-lg
              %br
              Transfer
      %li.nav-item.bordered
        .text-center
          %a.nav-link{:href => transactions_path, :class => (params[:controller] == 'transactions') ?  "text-light-blue" : ""}
            %i.fa.fa-bolt.fa-lg
            %br
            Transactions
      
      -#
        %li.nav-item.bordered
          .text-center
            %a.nav-link{:href => cards_path, :class => (params[:controller] == 'cards') ?  "text-light-blue" : ""}
              %i.fa.fa-qrcode.fa-lg
              %br
              Barcodes
    %form.form-inline.my-2.my-lg-0
      .my-2.my-sm-0.dropdown
        %a#navbarDropdown.nav-link.dropdown-toggle{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", :href => "#", :role => "button"}
          %i.fa.fa-user
          = current_user.full_name
        .dropdown-menu{"aria-labelledby" => "navbarDropdown"}
          %a.dropdown-item{:href => "#"}
            %i.fa.fa-building
            = current_user.company.name
            %br
            %small= "(#{current_user.role.humanize})"
          %a.dropdown-item{:href => edit_user_registration_path(current_user)} 
            %i.fa.fa-edit
            Edit profile
          .dropdown-divider
          %a.dropdown-item{:href => users_admin_index_path, :class => (params[:controller] == 'users') ?  "text-light-blue" : ""} 
            %i.fa.fa-users
            Web Users
          -#
            %a.dropdown-item{:href => transactions_path, :class => (params[:controller] == 'transactions') ?  "text-light-blue" : ""}
              %i.fa.fa-bolt
              Transactions
          %a.dropdown-item{:href => devices_path, :class => (params[:controller] == 'devices') ?  "text-light-blue" : ""}
            %i.fa.fa-money
            ATMs
      .my-2.my-sm-0= link_to 'Log out', destroy_user_session_path, method: :delete, data: { confirm: 'Are you sure you want to sign out?' }, class: 'btn btn-outline-danger'