.content-wrapper
  .container
  / Content Header (Page header)
  %section.content-header
    = render 'shared/flash_messages'
    %h3
      %i.fa.fa-google-wallet
      Wallet Types
      %small= link_to 'New', new_account_type_path, class: 'btn bg-orange'

  / Main content
  %section.content
    / Default box
    .box.box-primary
      .box-header.with-border
        %h3.box-title 
          -# All Account Types
        .box-tools.pull-right
          %button.btn.btn-box-tool{"data-toggle" => "tooltip", "data-widget" => "collapse", :title => "Collapse", :type => "button"}
            %i.fa.fa-minus
          %button.btn.btn-box-tool{"data-toggle" => "tooltip", "data-widget" => "remove", :title => "Remove", :type => "button"}
            %i.fa.fa-times
      .box-body.no-padding
        %table.table.table-condensed
          %thead
            %tr
              -# %th{:scope => "col"} ID
              %th{:scope => "col"} Description
              %th{:scope => "col"} Min Maintained Balance
              -# %th{:scope => "col"} Company
              %th{:scope => "col"} Fund by ACH
              %th{:scope => "col"} Fund by CC
              %th{:scope => "col"} Fund by Cash
              %th{:scope => "col"} Withdraw
              %th{:scope => "col"} Withdrawal All
              %th{:scope => "col"} Pull Payments
              %th{:scope => "col"} Request Payments by Search
              %th{:scope => "col"} Request Payments by Scan
              %th{:scope => "col"} Send Payments
              %th{:scope => "col"} Can be Pulled by Search
              %th{:scope => "col"} Can be Pulled by Scan
              %th{:scope => "col"}
          %tbody
            - @account_types.each do |account_type|
              %tr
                -# %td= account_type.id
                %td= account_type.description
                %td= account_type.MinMaintainBal.blank? ? number_to_currency(0) : number_to_currency(account_type.MinMaintainBal)
                -# %td= account_type.company.blank? ? 'None' : account_type.company.name
                %td= account_type.can_fund_by_ach? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.can_fund_by_cc? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.can_fund_by_cash? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.can_withdraw? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.withdrawal_all? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.can_pull? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.can_request_payment_by_search? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.can_request_payment_by_scan? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.can_send_payment? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.can_be_pulled_by_search? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= account_type.can_be_pulled_by_scan? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td
                  = link_to 'Show', account_type_path(account_type, company_id: current_user.company_id), class: 'btn btn-default btn-sm'
                  - unless account_type.heavy_metal_debit? or account_type.company_account?
                    = link_to "Edit", edit_account_type_path(account_type, company_id: current_user.company_id), class: 'btn btn-primary btn-sm'