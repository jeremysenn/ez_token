.content-wrapper
  .container
    / Content Header (Page header)
    %section.content-header
      = render 'shared/flash_messages'
      %h3 
        %i.fa.fa-google-wallet
        Wallet Type
    / Main content
    %section.content
      / Default box
      .box.box-primary
        .box-body
          %p.lead
            %strong Description:
            = @account_type.description
          %p.lead
            %strong Minimum Maintained Balance:
            = @account_type.MinMaintainBal.blank? ? number_to_currency(0) : number_to_currency(@account_type.MinMaintainBal)
          %table.table.table-condensed
            %thead
              %tr
                %th{:scope => "col"} Fund by ACH
                %th{:scope => "col"} Fund by CC
                %th{:scope => "col"} Fund by Cash
                %th{:scope => "col"} Can Withdraw
                %th{:scope => "col"} Withdrawal All
                %th{:scope => "col"} Pull Payments
                %th{:scope => "col"} Request Payments by Search
                %th{:scope => "col"} Request Payments by Scan
                %th{:scope => "col"} Send Payments
                %th{:scope => "col"} Can be Pulled by Search
                %th{:scope => "col"} Can be Pulled by Scan
                %th{:scope => "col"} Can be Pushed by Scan
            %tbody
              %tr
                %td= @account_type.can_fund_by_ach? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_fund_by_cc? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_fund_by_cash? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_withdraw? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.withdrawal_all? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_pull? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_request_payment_by_search? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_request_payment_by_scan? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_send_payment? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_be_pulled_by_search? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_be_pulled_by_scan? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
                %td= @account_type.can_be_pushed_by_scan? ? "<i class='fa fa-check'></i>".html_safe : "<i class='fa fa-ban'></i>".html_safe
          %hr
          %p.lead
            %strong Accounts:
            - unless @accounts.blank?
              %table.table.table-condensed
                %thead
                  %tr
                    %th{:scope => "col"} ID
                    %th{:scope => "col"} Name
                    %th{:scope => "col"} Balance
                    %th
                %tbody
                  - @accounts.each do |account|
                    %tr
                      %td= account.id
                      %td= account.customer_user_name
                      %td= number_to_currency(account.balance)
                      %td
                        = link_to 'Show', account, class: 'btn btn-default btn-sm'
              = paginate @accounts
            - else
              None

          .box-footer
            = link_to 'Back', :back, class: 'btn btn-default'
            = link_to 'Edit', edit_account_type_path(@account_type, company_id: current_user.company_id), class: 'btn btn-primary'
            .pull-right
              = link_to 'Delete', account_types_path(@account_type, company_id: current_user.company_id), :method => :delete, class: 'btn btn-danger btn-sm', :data => { :confirm => 'Are you sure you want to delete?' }
            